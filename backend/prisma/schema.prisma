generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Produto {
  id            String   @id @default(uuid())
  nome          String
  imagem        String
  descricao     String
  preco         String
  precoAntigo   String?
  quantidade    Int
  promocao      Boolean  @default(false)
  desconto      Int      @default(0)
  tipo          String
  categoria     String
  palavrasChave String[]
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@index([categoria])
  @@index([tipo])
  @@map("produtos")
}

model Pedido {
  id            String   @id @default(uuid())
  cliente       String
  email         String
  telefone      String
  endereco      String?
  tipoEntrega   String
  metodoPagamento String
  produtos      Json     // Array de produtos
  valorTotal    Float
  status        String   @default("pendente") // pendente, aprovado, rejeitado
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@map("pedidos")
}
